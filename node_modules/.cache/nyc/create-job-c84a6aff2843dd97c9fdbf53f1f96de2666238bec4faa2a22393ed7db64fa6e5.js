function cov_3rf1s2ibm(){var path="C:\\07_P02\\devops-project\\devops-project-jiayu\\utils\\create-job.js";var hash="f2497152080d6bc17a69e3b0d223584065bab38d";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\07_P02\\devops-project\\devops-project-jiayu\\utils\\create-job.js",statementMap:{"0":{start:{line:1,column:12},end:{line:1,column:37}},"1":{start:{line:5,column:4},end:{line:28,column:5}},"2":{start:{line:6,column:83},end:{line:6,column:91}},"3":{start:{line:9,column:8},end:{line:11,column:9}},"4":{start:{line:10,column:12},end:{line:10,column:73}},"5":{start:{line:14,column:23},end:{line:21,column:10}},"6":{start:{line:23,column:25},end:{line:23,column:44}},"7":{start:{line:24,column:8},end:{line:24,column:46}},"8":{start:{line:26,column:8},end:{line:26,column:50}},"9":{start:{line:27,column:8},end:{line:27,column:64}},"10":{start:{line:31,column:0},end:{line:33,column:2}}},fnMap:{"0":{name:"addJob",decl:{start:{line:4,column:15},end:{line:4,column:21}},loc:{start:{line:4,column:32},end:{line:29,column:1}},line:4}},branchMap:{"0":{loc:{start:{line:9,column:8},end:{line:11,column:9}},type:"if",locations:[{start:{line:9,column:8},end:{line:11,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:9},"1":{loc:{start:{line:9,column:12},end:{line:9,column:96}},type:"binary-expr",locations:[{start:{line:9,column:12},end:{line:9,column:39}},{start:{line:9,column:43},end:{line:9,column:70}},{start:{line:9,column:74},end:{line:9,column:96}}],line:9}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},f:{"0":0},b:{"0":[0,0],"1":[0,0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f2497152080d6bc17a69e3b0d223584065bab38d"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_3rf1s2ibm=function(){return actualCoverage;};}return actualCoverage;}cov_3rf1s2ibm();const Job=(cov_3rf1s2ibm().s[0]++,require('../models/jobs'));// Add a new job
async function addJob(req,res){cov_3rf1s2ibm().f[0]++;cov_3rf1s2ibm().s[1]++;try{const{name,location,description,salary,companyEmail,companyName}=(cov_3rf1s2ibm().s[2]++,req.body);// Validate required fields
cov_3rf1s2ibm().s[3]++;if((cov_3rf1s2ibm().b[1][0]++,!companyEmail.includes('@'))||(cov_3rf1s2ibm().b[1][1]++,!companyEmail.includes('.'))||(cov_3rf1s2ibm().b[1][2]++,description.length<6)){cov_3rf1s2ibm().b[0][0]++;cov_3rf1s2ibm().s[4]++;return res.status(400).json({message:'Validation error'});}else{cov_3rf1s2ibm().b[0][1]++;}// Create and save the new job using the Job model
const newJob=(cov_3rf1s2ibm().s[5]++,new Job({name,location,description,salary,companyEmail,companyName}));const savedJob=(cov_3rf1s2ibm().s[6]++,await newJob.save());cov_3rf1s2ibm().s[7]++;return res.status(201).json(savedJob);}catch(error){cov_3rf1s2ibm().s[8]++;console.error("Error adding job:",error);cov_3rf1s2ibm().s[9]++;return res.status(500).json({message:error.message});}}cov_3rf1s2ibm().s[10]++;module.exports={addJob};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfM3JmMXMyaWJtIiwiYWN0dWFsQ292ZXJhZ2UiLCJKb2IiLCJzIiwicmVxdWlyZSIsImFkZEpvYiIsInJlcSIsInJlcyIsImYiLCJuYW1lIiwibG9jYXRpb24iLCJkZXNjcmlwdGlvbiIsInNhbGFyeSIsImNvbXBhbnlFbWFpbCIsImNvbXBhbnlOYW1lIiwiYm9keSIsImIiLCJpbmNsdWRlcyIsImxlbmd0aCIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwibmV3Sm9iIiwic2F2ZWRKb2IiLCJzYXZlIiwiZXJyb3IiLCJjb25zb2xlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbImNyZWF0ZS1qb2IuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgSm9iID0gcmVxdWlyZSgnLi4vbW9kZWxzL2pvYnMnKTtcclxuIFxyXG4vLyBBZGQgYSBuZXcgam9iXHJcbmFzeW5jIGZ1bmN0aW9uIGFkZEpvYihyZXEsIHJlcykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB7IG5hbWUsIGxvY2F0aW9uLCBkZXNjcmlwdGlvbiwgc2FsYXJ5LCBjb21wYW55RW1haWwsIGNvbXBhbnlOYW1lIH0gPSByZXEuYm9keTtcclxuIFxyXG4gICAgICAgIC8vIFZhbGlkYXRlIHJlcXVpcmVkIGZpZWxkc1xyXG4gICAgICAgIGlmICghY29tcGFueUVtYWlsLmluY2x1ZGVzKCdAJykgfHwgIWNvbXBhbnlFbWFpbC5pbmNsdWRlcygnLicpIHx8IGRlc2NyaXB0aW9uLmxlbmd0aCA8IDYpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ1ZhbGlkYXRpb24gZXJyb3InIH0pO1xyXG4gICAgICAgIH1cclxuIFxyXG4gICAgICAgIC8vIENyZWF0ZSBhbmQgc2F2ZSB0aGUgbmV3IGpvYiB1c2luZyB0aGUgSm9iIG1vZGVsXHJcbiAgICAgICAgY29uc3QgbmV3Sm9iID0gbmV3IEpvYih7XHJcbiAgICAgICAgICAgIG5hbWUsXHJcbiAgICAgICAgICAgIGxvY2F0aW9uLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgc2FsYXJ5LFxyXG4gICAgICAgICAgICBjb21wYW55RW1haWwsXHJcbiAgICAgICAgICAgIGNvbXBhbnlOYW1lXHJcbiAgICAgICAgfSk7XHJcbiBcclxuICAgICAgICBjb25zdCBzYXZlZEpvYiA9IGF3YWl0IG5ld0pvYi5zYXZlKCk7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHNhdmVkSm9iKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGFkZGluZyBqb2I6XCIsIGVycm9yKTtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH0pO1xyXG4gICAgfVxyXG59XHJcbiBcclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBhZGRKb2JcclxufTsiXSwibWFwcGluZ3MiOiJ1NERBZVk7QUFBQUEsYUFBQSxTQUFBQSxDQUFBLFNBQUFDLGNBQUEsV0FBQUEsY0FBQSxFQUFBRCxhQUFBLEdBZlosS0FBTSxDQUFBRSxHQUFHLEVBQUFGLGFBQUEsR0FBQUcsQ0FBQSxNQUFHQyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsRUFFckM7QUFDQSxjQUFlLENBQUFDLE1BQU1BLENBQUNDLEdBQUcsQ0FBRUMsR0FBRyxDQUFFLENBQUFQLGFBQUEsR0FBQVEsQ0FBQSxNQUFBUixhQUFBLEdBQUFHLENBQUEsTUFDNUIsR0FBSSxDQUNBLEtBQU0sQ0FBRU0sSUFBSSxDQUFFQyxRQUFRLENBQUVDLFdBQVcsQ0FBRUMsTUFBTSxDQUFFQyxZQUFZLENBQUVDLFdBQVksQ0FBQyxFQUFBZCxhQUFBLEdBQUFHLENBQUEsTUFBR0csR0FBRyxDQUFDUyxJQUFJLEVBRW5GO0FBQUFmLGFBQUEsR0FBQUcsQ0FBQSxNQUNBLEdBQUksQ0FBQUgsYUFBQSxHQUFBZ0IsQ0FBQSxVQUFDSCxZQUFZLENBQUNJLFFBQVEsQ0FBQyxHQUFHLENBQUMsSUFBQWpCLGFBQUEsR0FBQWdCLENBQUEsU0FBSSxDQUFDSCxZQUFZLENBQUNJLFFBQVEsQ0FBQyxHQUFHLENBQUMsSUFBQWpCLGFBQUEsR0FBQWdCLENBQUEsU0FBSUwsV0FBVyxDQUFDTyxNQUFNLENBQUcsQ0FBQyxFQUFFLENBQUFsQixhQUFBLEdBQUFnQixDQUFBLFNBQUFoQixhQUFBLEdBQUFHLENBQUEsTUFDdEYsTUFBTyxDQUFBSSxHQUFHLENBQUNZLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLENBQUVDLE9BQU8sQ0FBRSxrQkFBbUIsQ0FBQyxDQUFDLENBQ2hFLENBQUMsS0FBQXJCLGFBQUEsR0FBQWdCLENBQUEsVUFFRDtBQUNBLEtBQU0sQ0FBQU0sTUFBTSxFQUFBdEIsYUFBQSxHQUFBRyxDQUFBLE1BQUcsR0FBSSxDQUFBRCxHQUFHLENBQUMsQ0FDbkJPLElBQUksQ0FDSkMsUUFBUSxDQUNSQyxXQUFXLENBQ1hDLE1BQU0sQ0FDTkMsWUFBWSxDQUNaQyxXQUNKLENBQUMsQ0FBQyxFQUVGLEtBQU0sQ0FBQVMsUUFBUSxFQUFBdkIsYUFBQSxHQUFBRyxDQUFBLE1BQUcsS0FBTSxDQUFBbUIsTUFBTSxDQUFDRSxJQUFJLENBQUMsQ0FBQyxFQUFDeEIsYUFBQSxHQUFBRyxDQUFBLE1BQ3JDLE1BQU8sQ0FBQUksR0FBRyxDQUFDWSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQ0csUUFBUSxDQUFDLENBQ3pDLENBQUUsTUFBT0UsS0FBSyxDQUFFLENBQUF6QixhQUFBLEdBQUFHLENBQUEsTUFDWnVCLE9BQU8sQ0FBQ0QsS0FBSyxDQUFDLG1CQUFtQixDQUFFQSxLQUFLLENBQUMsQ0FBQ3pCLGFBQUEsR0FBQUcsQ0FBQSxNQUMxQyxNQUFPLENBQUFJLEdBQUcsQ0FBQ1ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUMsQ0FBRUMsT0FBTyxDQUFFSSxLQUFLLENBQUNKLE9BQVEsQ0FBQyxDQUFDLENBQzNELENBQ0osQ0FBQ3JCLGFBQUEsR0FBQUcsQ0FBQSxPQUVEd0IsTUFBTSxDQUFDQyxPQUFPLENBQUcsQ0FDYnZCLE1BQ0osQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==